<!DOCTYPE html>
<html lang="en" class="dark-mode">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AddMint - Ultra Professional</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <div class="splash-content">
            <div class="app-logo-splash"></div>
            <h1>AddMint</h1>
            <p>Connecting the World, One Post at a Time</p>
            <div class="loader"></div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="app-container" class="app-container hidden">

        <!-- Login Screen -->
        <div id="login-screen" class="login-screen active">
            <div class="login-content">
                <div class="app-logo-splash"></div>
                <h1>Welcome to AddMint</h1>
                <p>Sign in to continue</p>
                <div class="form-group">
                    <input type="email" id="login-email" placeholder="Email">
                </div>
                <div class="form-group">
                    <input type="password" id="login-password" placeholder="Password">
                </div>
                <button id="login-btn" class="btn primary-btn">Login</button>
                <p class="auth-toggle-link">Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
            </div>
        </div>

        <!-- Signup Screen -->
        <div id="signup-screen" class="login-screen">
             <div class="login-content">
                <div class="app-logo-splash"></div>
                <h1>Create Account</h1>
                <p>Join the community</p>
                 <div class="form-group">
                    <input type="text" id="signup-username" placeholder="Username (unique)">
                </div>
                <div class="form-group">
                    <input type="email" id="signup-email" placeholder="Email">
                </div>
                <div class="form-group">
                    <input type="password" id="signup-password" placeholder="Password (min. 6 characters)">
                </div>
                <button id="signup-btn" class="btn primary-btn">Sign Up</button>
                <p class="auth-toggle-link">Already have an account? <a href="#" id="show-login">Login</a></p>
            </div>
        </div>

        <!-- Logged In Content -->
        <div id="logged-in-content" class="hidden">
            <header class="app-header">
                <div class="header-left">
                    <div class="menu-icon" id="menu-toggle">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                    <div class="app-title">AddMint</div>
                </div>
                <div class="header-right">
                    <div class="icon-button" id="refresh-posts-btn" title="Refresh Feed">
                        <i class="fas fa-sync-alt"></i>
                    </div>
                </div>
            </header>

            <nav id="sidebar" class="sidebar">
                <div class="sidebar-header">
                    <h3>AddMint Menu</h3>
                    <div class="close-sidebar" id="close-sidebar">&times;</div>
                </div>
                <ul>
                    <li><a href="#" data-screen="home"><i class="fas fa-home"></i> Home Feed</a></li>
                    <li><a href="#" data-screen="profile"><i class="fas fa-user-circle"></i> My Profile</a></li>
                    <li><a href="#" data-screen="earnings"><i class="fas fa-chart-line"></i> Earnings</a></li>
                    <li><a href="#" data-screen="upload"><i class="fas fa-plus-circle"></i> Upload Post</a></li>
                    <li><a href="#" data-screen="search"><i class="fas fa-search"></i> Search</a></li>
                    <li><a href="#"><i class="fas fa-moon"></i> Dark Mode <span class="toggle-switch"><input type="checkbox" id="dark-mode-checkbox" checked><label for="dark-mode-checkbox"></label></span></a></li>
                    <li><a href="#"><i class="fas fa-wifi"></i> Data Saver <span class="toggle-switch"><input type="checkbox" id="data-saver-checkbox"><label for="data-saver-checkbox"></label></span></a></li>
                    <li><a href="#" id="language-select"><i class="fas fa-language"></i> Language</a></li>
                    <li><a href="https://www.instagram.com/addmint__" target="_blank"><i class="fab fa-instagram"></i> Our Instagram</a></li>
                    <li><a href="https://www.youtube.com/@add_mintmint" target="_blank"><i class="fab fa-youtube"></i> Our YouTube</a></li>
                    <li><a href="#" data-screen="about"><i class="fas fa-info-circle"></i> About Us</a></li>
                    <li><a href="#" data-screen="privacy"><i class="fas fa-shield-alt"></i> Privacy Policy</a></li>
                    <li><a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
                </ul>
            </nav>

            <main class="main-content">
                <section id="home-screen" class="app-screen">
                    <h2>Home Feed</h2>
                    <div id="user-suggestion-container" class="horizontal-scroll-container"></div>
                    <div id="posts-feed" class="posts-feed"></div>
                    <div id="loading-spinner" class="loading-spinner hidden"></div>
                </section>

                <section id="feed-screen" class="app-screen feed-view">
                    <div id="vertical-feed-container" class="vertical-feed-container">
                        <!-- Vertical scroll posts will be injected here -->
                    </div>
                </section>

                <section id="profile-screen" class="app-screen">
                    <div id="user-profile-display">
                        <div class="profile-header-area">
                            <div class="profile-avatar-large-wrapper">
                                <img id="my-profile-avatar" class="profile-avatar-large" src="placeholder.jpg" alt="Profile Avatar">
                            </div>
                            <h2 id="my-profile-displayname">Display Name</h2>
                            <p id="my-profile-username" class="profile-username-display">@username</p>
                            <p id="my-profile-bio" class="profile-bio">This is the user's bio.</p>
                            <div class="profile-stats">
                                <div id="my-posts-count"><span>0</span> Posts</div>
                                <div class="clickable-stat" data-stat="followers"><span id="my-followers-count">0</span> Followers</div>
                                <div class="clickable-stat" data-stat="following"><span id="my-following-count">0</span> Following</div>
                            </div>
                            <div class="profile-actions">
                                <button class="btn primary-btn" id="edit-profile-btn"><i class="fas fa-edit"></i> Edit Profile</button>
                                <button class="btn secondary-btn hidden" id="follow-user-btn"><i class="fas fa-user-plus"></i> Follow</button>
                                <button class="btn danger-btn hidden" id="unfollow-user-btn"><i class="fas fa-user-minus"></i> Unfollow</button>
                            </div>
                        </div>

                        <div class="profile-content-tabs">
                            <div class="tab-item active" data-tab="posts"><i class="fas fa-th-large"></i> Posts</div>
                            <div class="tab-item" data-tab="reposts"><i class="fas fa-retweet"></i> Reposts</div>
                        </div>

                        <div id="profile-posts-tab" class="profile-tab-content active">
                            <div id="profile-posts-feed" class="posts-feed grid-layout"></div>
                        </div>
                        <div id="profile-reposts-tab" class="profile-tab-content">
                             <div id="profile-reposts-feed" class="posts-feed grid-layout"></div>
                        </div>
                    </div>
                </section>

                <section id="upload-screen" class="app-screen">
                    <h2>Create New Post</h2>
                    <div class="form-group">
                        <label for="post-content">Your Content (Min: 60, Max: 10000 characters)</label>
                        <div class="rich-text-editor">
                            <div class="editor-toolbar">
                                <button class="toolbar-btn" data-command="bold"><i class="fas fa-bold"></i></button>
                                <button class="toolbar-btn" data-command="italic"><i class="fas fa-italic"></i></button>
                                <button class="toolbar-btn" id="add-image-btn"><i class="fas fa-image"></i></button>
                                <button class="toolbar-btn" id="add-youtube-btn"><i class="fab fa-youtube"></i></button>
                                <button class="toolbar-btn" id="add-link-btn"><i class="fas fa-link"></i></button>
                            </div>
                            <div id="post-content-editable" class="editable-area" contenteditable="true" placeholder="What's on your mind?"></div>
                        </div>
                    </div>
                    <div class="form-group">
                       <label>Monetize this post?</label>
                       <div class="toggle-switch large-toggle">
                           <input type="checkbox" id="monetize-post-checkbox" checked>
                           <label for="monetize-post-checkbox"></label>
                           <span id="monetize-info">Users will see ads on this post and views will count towards your earnings.</span>
                       </div>
                    </div>
                    <button class="btn primary-btn" id="publish-post-btn">Publish Post (24h)</button>
                    <div id="upload-status"></div>
                </section>

                <section id="search-screen" class="app-screen">
                    <h2>Search Users & Posts</h2>
                    <div class="search-input-group">
                        <input type="text" id="search-query" placeholder="Search by username or keyword...">
                        <button class="btn primary-btn" id="search-btn"><i class="fas fa-search"></i></button>
                    </div>
                    <div id="search-results" class="search-results-container">
                        <h3>Users</h3>
                        <ul id="search-user-list" class="search-list"></ul>
                        <h3>Posts</h3>
                        <div id="search-post-list" class="posts-feed"></div>
                        <div id="no-search-results" class="hidden">No results found.</div>
                    </div>
                </section>

                <section id="earnings-screen" class="app-screen">
                    <h2>My Earnings</h2>
                    <div class="earnings-summary-card">
                        <div class="earning-stat">
                            <h4>Monetized Views</h4>
                            <p id="monetized-views-count">0</p>
                        </div>
                        <div class="earning-stat">
                            <h4>Estimated Earnings</h4>
                            <p id="estimated-earnings">$0.00</p>
                        </div>
                        <div class="earning-stat">
                             <h4>Unmonetized Views</h4>
                             <p id="unmonetized-views-count">0</p>
                        </div>
                    </div>
                     <div class="progress-bar-container">
                        <p>Progress to Payout (100,000 Views)</p>
                        <div class="progress-bar">
                            <div id="payout-progress" class="progress-bar-fill"></div>
                        </div>
                        <span id="progress-text">0/100,000</span>
                    </div>
                    <button class="btn primary-btn" id="withdraw-btn" disabled>Withdraw Funds</button>
                    <p class="disclaimer">You need at least 100,000 monetized views to be eligible for a payout. Payout rates are estimated and may vary.</p>
                </section>

                <section id="about-screen" class="app-screen">
                    <h2>About AddMint</h2>
                    <p>AddMint is a revolutionary social media platform designed to connect people through shared interests and engaging content. We believe in fostering a positive and vibrant community where every voice can be heard.</p>
                </section>

                <section id="privacy-screen" class="app-screen">
                    <h2>Privacy Policy</h2>
                    <p>Your privacy is paramount to us at AddMint. This policy outlines how we collect, use, and protect your personal information...</p>
                    <!-- Add full privacy policy text here -->
                </section>

            </main>

            <footer class="app-bottom-nav">
                <a href="#" class="nav-item active" data-screen="home"><i class="fas fa-home"></i><span>Home</span></a>
                <a href="#" class="nav-item" data-screen="search"><i class="fas fa-search"></i><span>Search</span></a>
                <a href="#" class="nav-item" data-screen="feed"><i class="fas fa-film"></i><span>Feed</span></a>
                <a href="#" class="nav-item" data-screen="upload"><i class="fas fa-plus-square"></i><span>Upload</span></a>
                <a href="#" class="nav-item" data-screen="profile"><i class="fas fa-user"></i><span>Profile</span></a>
            </footer>
        </div>
    </div>

    <!-- Modals and Popups -->
    <div id="edit-profile-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal-btn">&times;</span>
            <h3>Edit Profile</h3>
            <div class="form-group">
                <label for="edit-profile-pic">Profile Picture (Direct Image URL):</label>
                <input type="text" id="edit-profile-pic" placeholder="https://i.imgbb.com/your-image.jpg">
            </div>
            <div class="form-group">
                <label for="edit-display-name">Display Name:</label>
                <input type="text" id="edit-display-name" placeholder="Your display name">
            </div>
            <div class="form-group">
                <label for="edit-username">Username (cannot be changed):</label>
                <input type="text" id="edit-username" disabled>
            </div>
            <div class="form-group">
                <label for="edit-bio">Bio:</label>
                <textarea id="edit-bio" placeholder="Tell us about yourself"></textarea>
            </div>
            <div class="form-group">
               <label>Account Privacy</label>
               <div class="toggle-switch">
                   <input type="checkbox" id="private-account-checkbox">
                   <label for="private-account-checkbox"></label>
                   <span>Private Account</span>
               </div>
            </div>
            <button class="btn primary-btn" id="save-profile-btn">Save Changes</button>
        </div>
    </div>

    <div id="follow-list-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal-btn">&times;</span>
            <h3 id="follow-list-title"></h3>
            <div id="follow-list-content"></div>
        </div>
    </div>

     <div id="comments-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal-btn">&times;</span>
            <h3>Comments</h3>
            <div id="comments-list" class="comments-list"></div>
            <div class="comment-input-area">
                <input type="text" id="comment-input" placeholder="Add a comment...">
                <button id="submit-comment-btn" class="btn primary-btn"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
    
    <div id="withdraw-modal" class="modal hidden">
        <div class="modal-content">
             <span class="close-modal-btn">&times;</span>
             <h3>Request Payout</h3>
             <div class="form-group">
                 <label>Total Monetized Views:</label>
                 <input type="text" id="withdraw-views" disabled>
             </div>
             <p>Please provide your payout information. You can provide either a UPI ID or a PayPal email.</p>
             <div class="form-group">
                 <label for="withdraw-upi">UPI ID (Optional):</label>
                 <input type="text" id="withdraw-upi" placeholder="yourname@bank">
             </div>
             <div class="form-group">
                 <label for="withdraw-paypal">PayPal Email (Optional):</label>
                 <input type="email" id="withdraw-paypal" placeholder="you@example.com">
             </div>
             <button id="submit-withdrawal-btn" class="btn primary-btn">Review & Submit</button>
        </div>
    </div>

    <div id="toast-notification" class="toast-notification"></div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
    
    <!-- Main App Script -->
    <script src="script.js"></script>
</body>
</html>
